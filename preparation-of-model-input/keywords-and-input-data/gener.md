# GENER

**GENER**            introduces sinks and/or sources&#x20;

Record **GENER.1**

&#x20;               Free format for 11 parameters.

&#x20;               ELNE, SLNS, LTAB, TYPE, ITAB, GX, EX, HX, LOT12, LOT13, LOT14

&#x20;               or Format (A3, I2, A3, I2, 4I5, 5X, A4, A1, 6E10.4) (for 5 -character element name only).

&#x20;               EL, NE, SL, NS, NSEQ, NADD, NADS, LTAB, TYPE, ITAB, GX, EX, HX, LOT12, LOT13, LOT14

_ELNE_              name of the element containing the sink/source.

_SLNS_              name of the sink/source.

_EL_, _NE_            code name of the element containing the sink/source.

_SL_, _NS_            code name of the sink/source. The first three characters are arbitrary, the last two characters must be numbers.

_NSEQ_             number of additional sinks/sources with the same injection/production rate (not applicable for _TYPE_ = DELV, used for formatted input only).

_NADD_             increment between the code numbers of two successive elements with identical sink/source (used for formatted input only).

_NADS_             increment between the code numbers of two successive sinks/sources (used for formatted input only).

_LTAB_               number of points in table of generation rate versus time. Set 0 or 1 for constant generation rate. For wells on deliverability, _LTAB_ denotes the number of open layers, to be specified only for the bottommost layer.

_TYPE_              specifies different options for fluid or heat production and injection. For example, different fluid components may be injected, the nature of which depends on the EOS module being used. Different options for considering wellbore flow effects may also be specified.

<table data-header-hidden><thead><tr><th width="208"></th><th></th></tr></thead><tbody><tr><td>HEAT</td><td>Introduces a heat sink/source</td></tr><tr><td>COM1</td><td>component 1 (water)</td></tr><tr><td>WATE</td><td>Water</td></tr><tr><td>COM2</td><td>component 2</td></tr><tr><td>COM3</td><td>component 3</td></tr><tr><td>∙∙∙</td><td> </td></tr><tr><td>COMn</td><td>component n</td></tr><tr><td>MASS</td><td>mass production rate specified</td></tr><tr><td>DELV</td><td>well on deliverability against specified bottomhole pressure.</td></tr><tr><td>F--- or f---</td><td>well on deliverability against specified wellhead pressure</td></tr></tbody></table>

For DELV, if a well is completed in more than one layer, bottommost layer must be specified first, with number of layers given in _LTAB_. Subsequent layers must be given sequentially for a total number of _LTAB_ layers.

For F--- or f--- type, by convention, when the first letter of a type specification is F or f, TOUGH4 will perform flowing wellbore pressure corrections using tabular data of flowing bottomhole pressure vs. flow rate and flowing enthalpy. The tabular data used for flowing wellbore correction must be generated by means of a wellbore simulator ahead of a TOUGH4 run as ASCII data of 80 characters per record, according to the format specifications below.

The first record is an arbitrary title. The second record holds the number of flow rate and flowing enthalpy data (table points), _NG_ and _NH_, respectively, in Format 2I5; in Table 17 we have _NG_ = 11, _NH_ = 9. This is followed by _NG_ flow rate data in format 8E10.4, and _NH_ enthalpy data also in format 8E10.4. After this come _NG_ sets of _NH_ flowing bottomhole pressure data in format 8E10.4. The data in Table 17 were generated with the HOLA wellbore simulator (Aunzo et al., 1991) for a 0.2 m (≈ 8 inch) inside diameter well of 1,000 m feed zone depth with 7 bars wellhead pressure. Formation temperature for the conductive heat loss calculation in HOLA was assumed to increase linearly from 25 ˚C at the land surface to 275.5 ˚C at 750 m depth. Flow rates cover the range from 0.5 to 90.5 kg/s, and flowing enthalpies cover the range from 1,000 to 1,400 kJ/kg. A data record with very large bottomhole pressures of 55.55 MPa was added by hand for a very large hypothetical rate of 1,000 kg/s. This was done to avoid rates going out of table range during Newton-Raphson iteration in a TOUGH4 flow simulation.&#x20;

_**Table 17.  Flowing bottomhole pressures (in Pa) at 1000 m feed zone depth for a well of 20 cm (≈ 8 inch) inside diameter producing at 7 bar wellhead pressure (calculated from HOLA; Aunzo et al., 1991).**_

| <p>*f725d* - (q,h) from ( .5000E+00, .1000E+07) to ( .9050E+02, .1400E+07)</p><p>   11    9</p><p> .5000E+00 .1050E+02 .2050E+02 .3050E+02 .4050E+02 .5050E+02 .6050E+02 .7050E+02</p><p> .8050E+02 .9050E+02      1.e3</p><p> .1000E+07 .1050E+07 .1100E+07 .1150E+07 .1200E+07 .1250E+07 .1300E+07 .1350E+07</p><p> .1400E+07</p><p> .1351E+07 .1238E+07 .1162E+07 .1106E+07 .1063E+07 .1028E+07 .9987E+06 .9740E+06</p><p> .9527E+06</p><p> .1482E+07 .1377E+07 .1327E+07 .1299E+07 .1284E+07 .1279E+07 .1279E+07 .1286E+07</p><p> .1292E+07</p><p> .2454E+07 .1826E+07 .1798E+07 .1807E+07 .1835E+07 .1871E+07 .1911E+07 .1954E+07</p><p> .1998E+07</p><p> .4330E+07 .3199E+07 .2677E+07 .2280E+07 .2322E+07 .2376E+07 .2434E+07 .2497E+07</p><p> .2559E+07</p><p> .5680E+07 .4772E+07 .3936E+07 .3452E+07 .2995E+07 .2808E+07 .2884E+07 .2967E+07</p><p> .3049E+07</p><p> .6658E+07 .5909E+07 .5206E+07 .4557E+07 .4158E+07 .3746E+07 .3391E+07 .3402E+07</p><p> .3511E+07</p><p> .7331E+07 .6850E+07 .6171E+07 .5627E+07 .5199E+07 .4814E+07 .4465E+07 .4208E+07</p><p> .3957E+07</p><p> .7986E+07 .7548E+07 .7140E+07 .6616E+07 .6256E+07 .5908E+07 .5634E+07 .5399E+07</p><p> .5128E+07</p><p> .8621E+07 .8177E+07 .7820E+07 .7560E+07 .7234E+07 .6814E+07 .6624E+07 .6385E+07</p><p> .6254E+07</p><p> .8998E+07 .8732E+07 .8453E+07 .8124E+07 .7925E+07 .7671E+07 .7529E+07 .7397E+07</p><p> .7269E+07</p><p> .5555e+08 .5555e+08 .5555e+08 .5555e+08 .5555e+08 .5555e+08 .5555e+08 .5555e+08</p><p> .5555e+08</p> |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

The data must be provided by means of a disk file, whose name consists of the four characters of the _TYPE_ specification, and the one character of the following _ITAB_ parameter. For example, to use wellbore pressure data in a disk file called f725d, specify _TYPE_ as ‘f725’, and specify _ITAB_ as ‘d’. Different wellbore tables, representing e.g. wells with different diameter, feed zone depth, and flowing wellhead pressure, may be used simultaneously in a TOUGH4 simulation. Also, several wells completed in different grid blocks may reference the same wellbore table.

The capability for flowing wellbore pressure correction is presently only available for wells with a single feed zone.

TOUGH4 introduces additional options for the TYPE including:&#x20;

&#x20;              _GAPP_            Produce mass of gas phase with given buttonhole pressure, GX is for

&#x20;                                   productivity index PI ( $$m^3$$), EX is for the bottomhole pressure.

&#x20;              _AQPP_          Produce mass of aqueous phase with given buttonhole pressure, GX is for

&#x20;                                   productivity index PI ( $$m^3$$), EX is for the bottomhole pressure.

&#x20;              _OIPP_          Produce mass of non-aqueous phase with given buttonhole pressure,

&#x20;                                   GX is for productivity index ( $$m^3$$), EX is for the bottomhole pressure.

&#x20;              _GAPR_        Produce mass of gas phase with given production rate.

&#x20;              _AQPR_           Produce mass of aqueous phase with given production rate.

&#x20;              _OIPR_            Produce mass of non-aqueous phase with given production rate.

&#x20;              _GAIP_            Injection mixing gas with given bottomhole pressure. GX is the

&#x20;                                  bottomhole pressure, HX, LOT12, LOT13, and LOT14 are the mass

&#x20;                                  fractions of each component (see below for formatting).

&#x20;              _AQIP_           Injection mixing aqueous fluid with given bottomhole pressure. GX is the

&#x20;                                 bottomhole pressure, HX, LOT12, LOT13, and LOT14 are the mass

&#x20;                                 fractions of each component (see below for formatting).

&#x20;              _OIIP_            Injection mixing non-aqueous fluid at given bottomhole pressure. GX is&#x20;

&#x20;                                 the bottomhole pressure, HX, LOT12, LOT13, and LOT14 are the

&#x20;                                 mass fractions of each component (see below for formatting)&#x20;

_(Comp. name)_    production (negative) or injection (positive) of the component. &#x20;

Inputs of mass fractions through HX, LOT12, LOT13, and LOT14 for injection fluids with given bottomhole pressure require a special format as n0.x, which consists of two portions, one (n) for the component number, the other (x) for the mass fraction, e.g. “20.22, 10.28, 40.5” represents injection fluid consisting of three components, including component2 with mass fraction of 0,22, component1 with mass fraction 0,28, and component4 with mass fraction of 0.5. The sum of the mass fractions must be equal to 1.0 and the component number must correspond to the component list of the model.  Maximum 4 components are allowed for the injection with _GAIP_, _AQIP_, and _OIIP_. The type _GAPP_, _AQPP_, _OIPP_, _GAPR_, _AQPR_, _QIPR_, _GAIP_, _AQIO_, and _QIIP_ are implemented using the [virtual node well treatment method](../../governing-equations/virtual-node-well-treatment.md). Coordinate z of the well elements and elements connected to them must be provided in the mesh input if virtual node method is used.&#x20;

The component name can also be an option of the TYPE. This option specifies the injection or production of the component. For example, TYPE “CO2” represents the injection or production CO2 to/from the model element.  A negative GX indicates production and positive GX indicates injection.

_ITAB_               unless left blank, table of specific enthalpies will be read (_LTAB_ > 1 only). When time-dependent injection is used, _ITAB_ must be specified non-blank, and specific enthalpy data must be given. If _LTAB_ =0 or 1 and  _ITAB_ is non-blank (excluding _ITAB_ ="V" or "M"), user provided enthalpy will be used for the calculation, not matter injection or production. In addition, if _ITAB_ is "M", "N",  “V” or “T”, it has special meanings:

&#x20;          _“V” or “v”_     production or injection rate is in volume per second, no time series of

&#x20;                              specific enthalpy data will be read (may need additional inputs with[ **IE(55)**, ](../../appendix/c-additional-program-options.md)

&#x20;                              [**FE(66)**-](../../appendix/c-additional-program-options.md)[**FE(79)**](../../appendix/c-additional-program-options.md)).

&#x20;           “_T” or “t_”     production or injection rate is in volume per second, the time series of

&#x20;                              specific enthalpy data will be read  (may need additional inputs with[ **IE(55)**, ](../../appendix/c-additional-program-options.md)

&#x20;                              [**FE(66)**- ](../../appendix/c-additional-program-options.md)[**FE(79)**](../../appendix/c-additional-program-options.md)).

&#x20;          _“M” or “m”_   production or injection rate is in mole per second, enthalpy is in J/mole,

&#x20;                              no time series of specific enthalpy data will be read.

&#x20;           _“N” or “n”_   production or injection rate is in mole per second, enthalpy is in J/mole,

&#x20;                              the time series of specific enthalpy data will be read.

_GX_                  constant generation rate; positive for injection, negative for production; _GX_ is mass rate (kg/sec) for generation types COMl, COM2, COM3, etc., and MASS; it is energy rate (J/s) for a HEAT sink/source. For wells on deliverability, type GAPP, AQPP, and QIPP, _GX_ is productivity index PI ( $$m^3$$), see Eq. (4-15). For type GAIP, AQIP, and OIIP, GX is bottomhole pressure,

_EX_                  fixed specific enthalpy (J/kg) of the fluid for mass injection (_GX_>0). For wells on deliverability against fixed bottomhole pressure, with type of GAPP, AQPP, and OIPP, _EX_ is bottomhole pressure _Pwb_ (Pa), at the center of the topmost producing layer in which the well is open.

_HG_                 thickness of layer (m; wells on deliverability with specified bottomhole pressure only). It is masse fraction for type GAIP, AQIP, and OIIP.

_LOT12-14_     (optional) Additional data lot for the input. They could be used for mass fractions input for TYPE option _GAIP_, _AQIP_, and _OIIP_, or other well control parameters.

&#x20;Record **GENER.l.l**       (optional, _LTAB_ > l only)

&#x20;                       Free format for as more as 15 parameters per line, or Format (15E14.7)

&#x20;                       Fl(L), L=l, LTAB

_F1_                   generation times&#x20;

Record **GENER.1.2**     (optional, LTAB > 1 only)

&#x20;                       Free format for as more as 15 parameters per line, Format (15E14.7)

&#x20;                       F2(L), L=1, LTAB

&#x20;                       The number of data for input at each line must be identical with the F1 input.

_F2_                    generation rates.

Record **GENER.1.3**     (optional, LTAB > 1 and ITAB non-blank only; this data must be provided for injection at time-dependent rates)

&#x20;                       Free format for as more as 15 parameters per line, or Format (15E14.7)

&#x20;                       F3(L), L=1, LTAB

&#x20;                       The number of data for input at each line must be identical with the F1 input.

_F3_                   specific enthalpy of produced or injected fluid.

&#x20;                       Repeat records GENER.1, 1.1, 1.2, and 1.3 for the number of sinks/sources desired.

We provide an alternative input for Record **GENER.l.l** (optional, _LTAB_ < -1 only)

&#x20;                       Free format for 4 parameters per line, or Format (3E14.7, 1A10)

&#x20;                       _GTime, GRate, GEnthalpy, GType_

_GTime_            generation time.

GRate             injection or production rate at the time _GTime_. As special cases, it is  production&#x20;

&#x20;                        index for well type (_GType_ ) DELV, GAPP, AQPP and OIPP, and it is bottom hole&#x20;

&#x20;                        pressure for well type GAIP,  AQIP, and QIIP.

GEnthalpy     specific enthalpy of produced or injected fluid. As a special case, it is bottom hole&#x20;

&#x20;                        pressure for well type DELV, GAPP, AQPP and OIPP.

_GType_             Well production or injection type.&#x20;

_GTime_ can be in different time unit and in time series or time section based on well "_TYPE_"  inputted by Record GENER.1 (We borrow variable "_TYPE"_ for this purpose as it is not used for well with such alternative input). The "_TYPE_" can be:

"SECS"               Time unit is in second, time series (default).

"HOUS"              Time unit is in day, time series.

"DAYS"               Time unit is in day, time series..

"SECP"               Time unit is in second, time period.

"HOUP"              Time unit is in day, time period.

"DAYP"               Time unit is in day, time period.

_GType_ can be any types that are allowed for the "_TYPE_"  in the Record GENER.1 . An additional type "CLOS" is defined for indicating close of a well. &#x20;

Repeat input GENER.1.1 for abs(LTAB) times.

Record **GENER.2**        A blank record closes the GENER data block.

Alternatively, generation information may terminate on a record with ‘+++’ typed in the first three columns, followed by element cross-referencing information.

**Used in**: All EOS modules

**Example**:

_GENER                              // in main input file_

_A3A 1, injH2, , , , , COM3,  , 5.0E+00, 5.356e4     //ELNE, SLNS,  ,  ,  ,  , TYPE,  , GX, EX_

In GENER **file** with free format, TOUGH4 does not allow including NSEQ, NADD, and NADS (which will not be used) in the input line. The formatted input remains the same parameters which is for compatible with TOUGH3 input.

_GENER_&#x20;

_A3A 1, injH2,  , COM3,  , 5.0E+00, 5.356e4       //ELNE, SLNS,  LTAB, TYPE,  ITAB, GX, EX_

We may use the **alternative input** for a complex well operation. For example, a well for H2 storage has following operation history:

&#x20;  (1) Produce water to reduce reservoir pressure at a rate of 10kg/s  for 2 days.

&#x20;  (2) Inject cushion gas CO2 at 1kg/s for 5 days

&#x20;  (3) Close well for 3 days.

&#x20;  (4) Inject H2 for 0.2 day at a rate 2kg/s.

&#x20;  (5) close well for 0.7 day.

&#x20;  (6)  produce H2 for o.1 day at a rate 4kg/s.

&#x20;  (7)  repeat step (4-6) for additional two days.

The input will be:

_GENER_

_A3A 1, injH2,  ,  ,  , -12,  DAYP,_&#x20;

2.0, -10.0, , WATE                                    //produce water    &#x20;

5.0, 1.0,  .526684E+0&#x36;_, CO2                 //inject CO2, 5.356e4 enthalpy of injected CO2_

_3.0,  ,  ,CLOS                                             //close well_

_0.2, 2.0,  5.356e4 , H2                             // inject H2_

_0.7, , ,CLOS_

_0.1, -4.0,   , H2                                            //produce H2_

_0.2, 2.0,  5.356e4 , H2                             // inject H2_

_0.7, , ,CLOS_

_0.1, -4.0,  , H2_

_0.2, 2.0,  5.356e4 , H2                             // inject H2_

_0.7, , ,CLOS_

_0.1, -4.0,   , H2_

If "_TYPE_" is "DAYS" , the input will be like:

_GENER_

_A3A 1, injH2,  ,  ,  , -12,  DAYS,_

0.0, -10.0, , WATE                                    //produce water    &#x20;

2.0, 1.0,  .526684E+0&#x36;_, CO2                 //inject CO2, 5.356e4 enthalpy of injected CO2_

_7.0,  ,  ,CLOS                                             //close well_

_10.0, 2.0,  5.356e4 , H2                             // inject H2_

_10.2, , ,CLOS_

_10.9, -4.0,   , H2_

_11.0, 2.0,  5.356e4 , H2                             // inject H2_

_11.2, , ,CLOS_

_11.9, -4.0,   , H2_

_12.0, 2.0,  5.356e4 , H2                             // inject H2_

_12.2, , ,CLOS_

_12.9, -4.0,   , H2_

MOP(12) must be 2 for this inpu&#x74;_._&#x20;
